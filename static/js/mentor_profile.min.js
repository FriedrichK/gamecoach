var app=angular.module("app",["ngAnimate"]).config(["$locationProvider",function(a){a.html5Mode(!0)}]),app=angular.module("app");app.controller("ProfileController",function(a,b,c,d,e){angular.element(document).ready(function(){c.getMentorProfile(a.profile.mentorId,function(b){a.profile=b,a.regions=d.buildRegionList(b),a.availabilityProcessed=e.buildAvailabilityList(b)})})}),app.directive("valueAsPercent",function(){return{restrict:"AE",replace:"true",template:"<a>{{valueAsPercent}}</a>",link:function(a,b,c){a.$watch(c.valueAsPercent,function(){if(a.profile&&a.profile.data&&a.profile.data.response_rate){var b=100*a.profile.data.response_rate;a.valueAsPercent=b.toFixed(1)+"%"}})}}}),app.directive("responseTimeAsText",function(){return{restrict:"AE",replace:"true",template:"<a>{{responseTimeAsText}}</a>",link:function(a,b,c){a.$watch(c.responseTimeAsText,function(){if(a.profile&&a.profile.data&&a.profile.data.response_time){var b=a.profile.data.response_time,c="More than one day";7>b&&(c=b+" days"),1>b&&(c="Less than a day"),7===b&&(c="One week"),b>7&&(c="More than a week"),a.responseTimeAsText=c}})}}});var app=angular.module("app");app.factory("profileDataService",function(a){return{getMentorProfile:function(b,c){return a({url:"/api/mentor/"+b,method:"GET",params:{}}).then(function(a){console.log(a.data),c(a.data)})}}}),app.factory("profileRegionService",function(a){return{buildRegionList:function(a){var b=this._buildRawRegionList(a);return this._orderRegionList(b)},_buildRawRegionList:function(b){if(!b.regions)return[];var c=[];return angular.forEach(b.regions,function(b,d){b===!0&&c.push({label:d,identifier:a.getLabelForName("regions",d)})}),c},_orderRegionList:function(b){var c=a.getLabelOrder("regions"),d=[];return angular.forEach(c,function(a){angular.forEach(b,function(b){b.identifier===a&&d.push(b)})}),d}}}),app.factory("profileAvailabilityService",function(){return{buildAvailabilityList:function(a){var b=[];return b=b.concat(this._buildDayList(a)),b=b.concat(this._buildTimeList(a))},_buildDayList:function(a){if(!a.availability)return[];var b=[];return a.availability["Any day"]===!0&&(b=[{label:"Any day",identifier:"anyday"}]),a.availability["Weekends only"]===!0&&(b=[{label:"Weekends only",identifier:"weekends"}]),b},_buildTimeList:function(a){if(!a.availability)return[];var b=[];return a.availability["Any time"]===!0&&(b=[{label:"Any time",identifier:"anytime"}]),a.availability["Evenings only"]===!0&&(b=[{label:"Evenings only",identifier:"evenings"}]),b}}});var app=angular.module("app");app.factory("profileLabelService",function(){return{labels:{regions:{useast:"US East",uswest:"US West",eueast:"EU East",euwest:"EU West",seasia:"SE Asia",russia:"Russia",southamerica:"South America",australia:"Australia"}},labelOrder:{regions:["useast","uswest","eueast","euwest","seasia","russia","southamerica","australia"]},getLabelForName:function(a,b){var c;return angular.forEach(this.labels[a],function(a,d){a===b&&(c=d)}),c},getNameForLabel:function(a,b){return this.labels[a][b]},getLabelOrder:function(a){return this.labelOrder[a]}}});