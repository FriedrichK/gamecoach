function tokenizeValues(a){return a?String(a).split(","):[]}function processBinaryCategory(a,b,c){if(void 0!==a[b]){var d=tokenizeValues(c);return angular.forEach(d,function(c){void 0!==a[b][c]&&(a[b][c]=!0)}),a[b]}return null}function processChoiceCategory(a,b,c){void 0!==a[b]&&console.log(b,c)}function getInitialRefineSettings(a,b){var c=a.search();return angular.forEach(c,function(a,c){"roles"===c&&(b.roles=processBinaryCategory(b,c,a)),"regions"===c&&(b.regions=processBinaryCategory(b,c,a)),"day"===c&&(b.day=a),"time"===c&&(b.time=a)}),b}var app=angular.module("app",["ngAnimate"]).config(["$locationProvider",function(a){a.html5Mode(!0)}]),app=angular.module("app");app.controller("RefineSearchController",function(a,b,c,d,e,f){angular.element(b).ready(function(){a.refine=e.get(),e.set(a.refine)}),a.change=function(){c.getMatchingMentors(a.refine,function(){}),e.set(a.refine)},a.test=function(){window.location=f.buildFromSettings(a.refine)}}),app.controller("MentorListController",function(a,b,c){a.number=0,a.$on("refineSettingsUpdated",function(){var d=c.get();b.getMatchingMentors(d,function(b){a.mentors=b,a.number=b.length})}),a.goToProfile=function(a){window.location="/mentor/"+a}});var app=angular.module("app");app.factory("mentorSearchService",function(a){return{getMatchingMentors:function(b,c){return a({url:"/api/mentor",method:"GET",params:b}).then(function(a){c(a.data)})}}}),app.factory("refineSettingsService",function(a,b,c){var d=c.initialSettings,e=getInitialRefineSettings(b,d);return{set:function(b){e=b,a.$broadcast("refineSettingsUpdated",b)},get:function(){return e}}}),app.factory("generateUrlService",function(){return{buildFromSettings:function(a){var b="/results",c=[];return c=c.concat(this._buildUrlPart("roles",this._buildCategory("roles",a))),c=c.concat(this._buildUrlPart("regions",this._buildCategory("regions",a))),c=c.concat(this._buildUrlPart("day",this._buildChoiceCategory("day",a))),c=c.concat(this._buildUrlPart("time",this._buildChoiceCategory("time",a))),console.log(c),0===c.length?b:b+"?"+c.join("&")},_buildUrlPart:function(a,b){return b&&""!==b?[a+"="+b]:[]},_buildCategory:function(a,b){var c=[];return angular.forEach(b[a],function(a,b){a===!0&&c.push(b)}),c.join(",")},_buildChoiceCategory:function(a,b){return b[a]}}}),app.factory("mentorSettingsService",function(){return{initialSettings:{roles:{carry:!1,disabler:!1,ganker:!1,initiator:!1,jungler:!1,offlaner:!1,pusher:!1,support:!1},regions:{uswest:!1,useast:!1,euwest:!1,eueast:!1,russia:!1,southamerica:!1,seasia:!1,australia:!1},availability:{day:void 0,time:void 0}}}});