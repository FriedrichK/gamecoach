function BaseProfileController(a,b,c,d,e,f,g,h,i){angular.element(document).ready(function(){c.getMentorProfile(i,function(b){a.profile=b,a.regions=d.buildRegionList(b),a.availabilityProcessed=e.buildAvailabilityList(b),a.rolesProcessed=f.buildRoleList(b),a.heroesProcessed=g.buildHeroList(b),a.statistics=h.buildStatisticsList(b)}),a.profilePictureUri="/data/mentor/"+i+"/profilePicture"})}var gamecoachShared=angular.module("gamecoachShared",[]),gamecoachShared=angular.module("gamecoachShared");gamecoachShared.filter("capitalize",function(){return function(a){return null!=a?a.substring(0,1).toUpperCase()+a.substring(1):void 0}}),gamecoachShared.filter("percentAsString",function(){return function(a,b){return!a||""===a||isNaN(a)?null:(b||(b=0),(100*parseFloat(a)).toFixed(b)+"%")}});var gamecoachShared=angular.module("gamecoachShared");gamecoachShared.factory("profileDataService",function(a){return{getMentorProfile:function(b,c){return a({url:"/api/mentor/"+b,method:"GET",params:{}}).then(function(a){c(a.data)})}}}),gamecoachShared.factory("profileRegionService",function(a){return{buildRegionList:function(a){var b=this._buildRawRegionList(a);return this._orderRegionList(b)},_buildRawRegionList:function(b){if(!b.regions)return[];var c=[];return angular.forEach(b.regions,function(b,d){b===!0&&c.push({label:a.getNameForLabel("regions",d),identifier:d})}),c},_orderRegionList:function(b){var c=a.getLabelOrder("regions"),d=[];return angular.forEach(c,function(a){angular.forEach(b,function(b){b.identifier===a&&d.push(b)})}),d}}}),gamecoachShared.factory("profileAvailabilityService",function(){return{buildAvailabilityList:function(a){var b=[];return b=b.concat(this._buildDayList(a)),b=b.concat(this._buildTimeList(a))},_buildDayList:function(a){if(!a.availability)return[];var b=[];return a.availability["Any day"]===!0&&(b=[{label:"Any day",identifier:"anyday"}]),a.availability["Weekends only"]===!0&&(b=[{label:"Weekends only",identifier:"weekends"}]),b},_buildTimeList:function(a){if(!a.availability)return[];var b=[];return a.availability["Any time"]===!0&&(b=[{label:"Any time",identifier:"anytime"}]),a.availability["Evenings only"]===!0&&(b=[{label:"Evenings only",identifier:"evenings"}]),b}}}),gamecoachShared.factory("profileRoleService",function(a){var b=2;return{buildRoleList:function(a){if(!a.roles)return[];var c=this._buildRawList(a),d=this._divideRawListIntoColumns(c,b);return d},_buildRawList:function(a){var b=this,c=[];return angular.forEach(a.roles,function(a,d){a===!0&&c.push({label:b._getLabel(d),identifier:d})}),c},_divideRawListIntoColumns:function(a,b){for(var c=Math.ceil(a.length/b),d=[],e=0,f=b;f>e;e++){var g=e*c,h=(e+1)*c;d.push(a.slice(g,h))}return d},_getLabel:function(b){var c=a.getNameForLabel("roles",b);return c.charAt(0).toUpperCase()+c.slice(1)}}}),gamecoachShared.factory("profileHeroService",function(){return{buildHeroList:function(a){if(!a||!a.data||!a.data.top_heroes)return[];var b=this,c=[];return angular.forEach(a.data.top_heroes,function(a){c.push({identifier:a,label:b._buildLabel(a)})}),c},_buildLabel:function(a){return a}}}),gamecoachShared.factory("profileStatisticsService",function(a,b){return{buildStatisticsList:function(a){if(!a||!a.data||!a.data.statistics)return[];var c=this,d=[],e=this._parseStatistics(a.data.statistics);return angular.forEach(e,function(a,e){d.push({identifier:e,label:b.getNameForLabel("statistics",e),value:c._processValue(e,a)})}),d},_processValue:function(b,c){return"win_rate"===b?a("percentAsString")(c):a("number")(c,0)},_parseStatistics:function(a){return angular.fromJson(a)}}});var gamecoachShared=angular.module("gamecoachShared");gamecoachShared.factory("profileLabelService",function(){return{labels:{regions:{useast:"US East",uswest:"US West",eueast:"EU East",euwest:"EU West",seasia:"SE Asia",russia:"Russia",southamerica:"South America",australia:"Australia"},roles:{carry:"carry",disabler:"disabler",ganker:"ganker",initiator:"initiator",jungler:"jungler",offlaner:"offlaner",pusher:"pusher",support:"support"},statistics:{games_played:"games played",win_rate:"win rate",solo_mmr:"solo MMR"}},labelOrder:{regions:["useast","uswest","eueast","euwest","seasia","russia","southamerica","australia"],statistics:["games_played","win_rate","solo_mmr"]},getLabelForName:function(a,b){var c;return angular.forEach(this.labels[a],function(a,d){a===b&&(c=d)}),c},getNameForLabel:function(a,b){return this.labels[a][b]},getLabelOrder:function(a){return this.labelOrder[a]}}});var gamecoachShared=angular.module("gamecoachShared");gamecoachShared.factory("gCStringService",function(){return{decodeHtml:function(a){return $("<div/>").html(a).text()}}}),gamecoachShared.factory("heroesService",function(){return{getHeroHash:function(){return{abaddon:"Abaddon",alchemist:"Alchemist",ancient_apparition:"Ancient Apparition","anti-mage":"Anti-Mage",arc_warden:"Arc Warden",axe:"Axe",bane:"Bane",batrider:"Batrider",beastmaster:"Beastmaster",bloodseeker:"Bloodseeker",bounty_hunter:"Bounty Hunter",brewmaster:"Brewmaster",bristleback:"Bristleback",broodmother:"Broodmother",centaur_warrunner:"Centaur Warrunner",chaos_knight:"Chaos Knight",chen:"Chen",clinkz:"Clinkz",clockwerk:"Clockwerk",crystal_maiden:"Crystal Maiden",dark_seer:"Dark Seer",dazzle:"Dazzle",death_prophet:"Death Prophet",disruptor:"Disruptor",doom_bringer:"Doom Bringer",dragon_knight:"Dragon Knight",drow_ranger:"Drow Ranger",earth_spirit:"Earth Spirit",earthshaker:"Earthshaker",elder_titan:"Elder Titan",ember_spirit:"Ember Spirit",enchantress:"Enchantress",enigma:"Enigma",faceless_void:"Faceless Void",goblin_techies:"Goblin Techies",gyrocopter:"Gyrocopter",huskar:"Huskar",invoker:"Invoker",io:"Io",jakiro:"Jakiro",juggernaut:"Juggernaut",keeper_of_the_light:"Keeper of the Light",kunkka:"Kunkka",legion_commander:"Legion Commander",leshrac:"Leshrac",lich:"Lich",lifestealer:"Lifestealer",lina:"Lina",lion:"Lion",lone_druid:"Lone Druid",luna:"Luna",lycanthrope:"Lycanthrope",magnus:"Magnus",medusa:"Medusa",meepo:"Meepo",mirana:"Mirana",morphling:"Morphling",naga_siren:"Naga Siren","nature's_prophet":"Nature's Prophet",necrophos:"Necrophos",night_stalker:"Night Stalker",nyx_assassin:"Nyx Assassin",ogre_magi:"Ogre Magi",omniknight:"Omniknight",oracle:"Oracle",outworld_devourer:"Outworld Devourer",phantom_assassin:"Phantom Assassin",phantom_lancer:"Phantom Lancer",phoenix:"Phoenix",pit_lord:"Pit Lord",puck:"Puck",pudge:"Pudge",pugna:"Pugna",queen_of_pain:"Queen of Pain",razor:"Razor",riki:"Riki",rubick:"Rubick",sand_king:"Sand King",shadow_demon:"Shadow Demon",shadow_fiend:"Shadow Fiend",shadow_shaman:"Shadow Shaman",silencer:"Silencer",skywrath_mage:"Skywrath Mage",slardar:"Slardar",slark:"Slark",sniper:"Sniper",soul_keeper:"Soul Keeper",spectre:"Spectre",spirit_breaker:"Spirit Breaker",storm_spirit:"Storm Spirit",sven:"Sven",templar_assassin:"Templar Assassin",tidehunter:"Tidehunter",timbersaw:"Timbersaw",tinker:"Tinker",tiny:"Tiny",treant_protector:"Treant Protector",troll_warlord:"Troll Warlord",tusk:"Tusk",undying:"Undying",ursa:"Ursa",vengeful_spirit:"Vengeful Spirit",venomancer:"Venomancer",viper:"Viper",visage:"Visage",warlock:"Warlock",weaver:"Weaver",windranger:"Windranger",winter_wyvern:"Winter Wyvern",witch_doctor:"Witch Doctor",wraith_king:"Wraith King",zeus:"Zeus"}}}});var gamecoachShared=angular.module("gamecoachShared");gamecoachShared.factory("timeService",function(a){return{isToday:function(a){var b=new Date;return a.getYear()===b.getYear()&&a.getMonth()===b.getMonth()+1&&a.getDate()===b.getDate()?!0:!1},formatMessageDate:function(b){var c=this.convertJsonToDate(b.sent_at),d="shortDate";return this.isToday(c)&&(d="shortTime"),b.sent_at=a("date")(c,d),b},convertJsonToDate:function(a){return new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,0)}}});