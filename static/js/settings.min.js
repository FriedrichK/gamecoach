var editSettingsApp=angular.module("editSettingsApp",["gamecoachShared","gamecoachNavigation"]).config(["$locationProvider",function(a){a.html5Mode(!0)}]),editSettingsApp=angular.module("editSettingsApp");editSettingsApp.controller("EditSettingsController",function(a,b,c,d,e){a.userSettings=userSettings,a.submitEmail=function(b){b.$valid?c.submit(a.userSettings):console.log("invalid form",b)},a.switchToMentor=function(){try{calq.action.track("Switched to mentor",{})}catch(a){}d.change(!0)},a.switchToStudent=function(){try{calq.action.track("Switched to student",{})}catch(a){}d.change(!1)},a.deactivate=function(){var a=angular.element("input[type=hidden][name=system_username]").val();e.deactivate(a)}});var editSettingsApp=angular.module("editSettingsApp");editSettingsApp.factory("emailService",function(a){return{submit:function(b){return a({url:"/api/settings/email/",method:"POST",data:b}).then(function(a){if(200===a.status){try{calq.action.track("Updated email",{})}catch(b){}window.location.reload()}})}}}),editSettingsApp.factory("mentorStatusService",function(a){return{change:function(b){return a({url:"/api/settings/mentor_status/",method:"POST",data:{status:b}}).then(function(a){200===a.status&&window.location.reload()})}}}),editSettingsApp.factory("deactivateUserService",function(a){return{deactivate:function(b){return a({url:"/api/mentor/"+b,method:"DELETE"}).then(function(){a({url:"/accounts/logout/",method:"GET"}).then(function(a){if(200===a.status){try{calq.action.track("Deactivated account",{})}catch(b){}window.location="/"}})})}}});